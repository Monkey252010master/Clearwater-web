<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Clearwater RP</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- Header -->
  <header class="header">
    <button class="hamburger" id="hamburger" aria-label="Open menu">
      <span class="bar"></span><span class="bar"></span><span class="bar"></span>
    </button>
    <h1 class="site-title">Clearwater RP</h1>
  </header>

  <!-- Drawer menu -->
  <nav class="drawer" id="drawer">
    <ul class="nav-list">
      <li><a href="index.html">Home</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="events.html">Events</a></li>
      <li><a href="contact.html">Contact</a></li>
      <li><a href="https://YOUR-RENDER-APP.onrender.com/auth/discord" target="_blank">Log in with Discord</a></li>
      <li><a href="https://YOUR-RENDER-APP.onrender.com/dashboard" target="_blank">Staff Dashboard</a></li>
    </ul>
  </nav>

  <div class="overlay" id="overlay"></div>

  <!-- Main content -->
  <main class="content">
    <section class="hero">
      <h2>Welcome to Clearwater RP</h2>
      <p>Immersive roleplay, community events, and a dedicated staff team.</p>
    </section>

    <section class="status-panel">
      <h3>Server Status</h3>
      <p id="player-count">Live Players: …</p>
      <p id="session-status">Session: …</p>
    </section>

    <section class="section">
      <h3>About Us</h3>
      <p>Clearwater RP is built for creativity and collaboration. We host regular events and encourage player‑driven stories.</p>
    </section>

    <section class="section">
      <h3>Events</h3>
      <p>Watch this space for upcoming event announcements and schedules.</p>
    </section>

    <section class="section">
      <h3>Contact</h3>
      <p>Questions or suggestions? Reach us on Discord or via our contact page.</p>
    </section>
  </main>

  <script>
    // Hamburger toggle
    const hamburger = document.getElementById("hamburger");
    const drawer = document.getElementById("drawer");
    const overlay = document.getElementById("overlay");

    function openDrawer() { drawer.classList.add("open"); overlay.classList.add("show"); }
    function closeDrawer() { drawer.classList.remove("open"); overlay.classList.remove("show"); }

    hamburger.addEventListener("click", () => {
      drawer.classList.contains("open") ? closeDrawer() : openDrawer();
    });
    overlay.addEventListener("click", closeDrawer);
    document.addEventListener("keydown", (e) => { if (e.key === "Escape") closeDrawer(); });

    // Live status updater
    async function updateStatus() {
      try {
        const res = await fetch("https://YOUR-RENDER-APP.onrender.com/status");
        const data = await res.json();
        document.getElementById("player-count").textContent = "Live Players: " + data.players;
        document.getElementById("session-status").textContent = "Session: " + (data.sessionActive ? "Active" : "Shut Down");
      } catch (err) {
        document.getElementById("player-count").textContent = "Live Players: N/A";
        document.getElementById("session-status").textContent = "Session: N/A";
      }
    }
    updateStatus();
    setInterval(updateStatus, 5000); // refresh every 5s
  </script>
</body>
</html>
